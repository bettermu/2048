#2048游戏网页版项目文档

标签（空格分隔）： 未分类

---

##项目概述

1、名称：2048游戏网页版
2、创建人：bettermu
3、完成时间：2016 10 13

##思路概述
###HTML
1、HTML文件中需要设置4*4的前景栅格和背景栅格，其中前景栅格需要利用绝对定位方式定位到包裹的大DIV中，必须与背景栅格对齐。
2、需要设置两个遮罩层来控制游戏结束和游戏暂停的界面切换，利用height和width都设置为100%的方式，覆盖整个界面。

###CSS
1、给包裹的div设置相对定位，用于栅格的定位。
2，遮罩层的相对界面居中用到了绝对定位和margin值，绝对定位到top 和left值为界面宽度的50%，然后再设置margin-left和margin-top的值为负的自身的一半。

###JS
####主要是利用二维数组的数据转换的逻辑
1、运用面向对象思想将所有的方法和属性设置到game对象中。
2、首先设置start()方法，该方法用于初始化数据和属性，并在window.onload事件里调用执行。
3、randomNum方法：用来往初始化二维数组里初始化两个值。
4、isfull方法：判断数组是否已满，循环遍历二维数组里的每一个数值，如果其中有一个值为0，则立刻返回false并跳出循环。
5、updataView:更新视图，将每一次数据变化的改动同步更新到视图，其中用到了DOM操作innerHTML值的方法，操作className的方法，给值不为0的栅格加上相对应的类名，显示在视图中。
6、moveLeft方法：向左移动时控制每行的栅格数值的变化。
7、moveLeftInRow:用来判断向左移动时单个行中相邻两个数值之间的关系，进行判定和操作，详情请看源代码里的注释。
8、getRightNext:当向左移动时用来找到当前行中的元素的下一个元素的位置。
9、对于向右、向下、向上移动，逻辑思路都是类似的，详细在源码中的注释有说明。
10、isGameOver:判断栅格中数据值是否为空，若为或者仍然还有相同的数据并且可移动，则不改变this.state的默认值，否则，将值设为GAMEOVER的值。
11：当this.state的值等于this.GAMEOVER时，将游戏结束的遮罩层的display值动态设置为block，则游戏结束。单击重新开始，则会调用start方法重新再开一局。
12、事件操作方面，不仅定义了键盘的上下左右事件，还适配了移动端的滑动屏幕事件，利用屏幕坐标值的变化，调用相应的事件响应方法，使游戏顺利进行。


##总结
其实最主要的是JS中的逻辑部分，判定相邻的元素之间的数据值的关系，并且把握好列与行之间的类似关系，可以处理好上移下移和左移右移之间的类似逻辑，详细可以看源码里的注释。

总的来说，所见并不是全部的所得，因为界面操作上看起来的酷炫的变化，全部都是靠底层的数据值的操作来给出回应，有一点点魔术的感觉，眼睛所看到的，并不是真的的逻辑，在这一方面，编程的逻辑思维需要作出转变。


                    by better mu 
                    2016 10
